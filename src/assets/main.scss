@import "bootstrap/scss/functions";
@import "bootstrap/scss/variables";

@mixin color-scheme-styles {
  html,
  body {
    color: var(--bs-body-color);
    background-color: var(--bs-body-bg);
  }

  .Card {
    border: 1px solid var(--bs-card-border-color);
  }

  .ToggleSlider {
    background-color: var(--bs-secondary);
  }

  .ToggleSlider:before {
    background-color: var(--bs-white);
  }

  .ToggleInput:checked + .ToggleSlider {
    background-color: var(--bs-success);
  }

  .ToggleInput:focus + .ToggleSlider {
    box-shadow: 0 0 1px var(--bs-success);
  }

  .ToggleInput:disabled + .ToggleSlider {
    background-color: var(--bs-gray-200);
  }

  .nested-trade-row {
    background-color: var(--bs-gray-100);
  }

  tr:hover + .nested-trade-row,
  .nested-trade-row:hover {
    background-color: var(--bs-gray-200);
  }

  #enableStoploss:checked {
    background-color: var(--bs-danger);
    border-color: var(--bs-danger);
  }

  #enableTarget:checked {
    background-color: var(--bs-success);
    border-color: var(--bs-success);
  }
}

@media (prefers-color-scheme: light) {
  :root {
    @each $color, $value in $theme-colors {
      --bs-#{$color}: #{$value};
    }
    --bs-card-border-color: #{$gray-700};
  }
  @include color-scheme-styles;
}

@media (prefers-color-scheme: dark) {
  :root {
    // Invert some of the theme colors for dark mode
    --bs-primary: #{$blue-300};
    --bs-secondary: #{$gray-600};
    --bs-success: #{$green-300};
    --bs-info: #{$cyan-300};
    --bs-warning: #{$yellow-300};
    --bs-danger: #{$red-300};
    --bs-light: #{$gray-800};
    --bs-dark: #{$gray-100};

    // Set body colors
    --bs-body-color: #{$gray-100};
    --bs-body-bg: #{$gray-900};

    // Adjust other variables as needed
    --bs-border-color: #{$gray-700};
    --bs-card-border-color: #{$gray-300};
  }
  @include color-scheme-styles;
}

// Styles that don't change based on color scheme
.Card {
  border-radius: $border-radius;
  padding: $spacer;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  flex-direction: column;
  justify-content: center;
}

button:focus,
button:hover,
select,
option,
input:focus {
  outline: none;
  box-shadow: none !important;
}

.ToggleSwitch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

.ToggleInput {
  opacity: 0;
  width: 0;
  height: 0;
}

.ToggleLabel {
  margin-left: $spacer;
}

.ToggleSlider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  transition: $transition-base;
}

.ToggleSlider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  transition: $transition-base;
}

.ToggleInput:checked + .ToggleSlider:before {
  transform: translateX(26px);
}

.ToggleSlider.SliderRound {
  border-radius: 34px;
}

.ToggleSlider.SliderRound:before {
  border-radius: 50%;
}

.toast {
  position: fixed;
  top: 10%;
  left: 50%;
  transform: translateX(-50%);
  z-index: $zindex-toast;
  overflow: hidden;
}

.dropdown-menu {
  width: 100%;
}

.disabled-form {
  cursor: not-allowed;
  pointer-events: all;
}

.nav-link {
  color: inherit !important;
}

.nested-trade-row {
  transition: background-color 0.3s ease;
}

.nested-trade-row td {
  padding-left: calc(2rem - 3px);
}

.broker-logo {
  max-height: 80px;
  width: auto;
}

.arrow_keys {
  max-height: 200px;
  width: auto;
}